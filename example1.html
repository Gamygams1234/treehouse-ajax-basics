<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="css/main.css" />
    <title>AJAX with JavaScript</title>
    <script>
      var xhr = new XMLHttpRequest();
      // this is opening the request
      xhr.open("GET", "sidebar.html");
      // this fuction fires everytime there is a change going on
      xhr.onreadystatechange = function () {
        // this wiil test the state
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            // this is getting the text from the sidebar html
            document.getElementById("ajax").innerHTML = xhr.responseText;
          } else if (xhr.status === 404) {
            // file not found
            alert(xhr.statusText);
          } else if (xhr.status === 500) {
            // there was a problem with the server
            alert(xhr.statusText);
          }
        }
      };

      // this will send off the request
      function sendAJAX() {
        xhr.send();
        // this will get rid of the button
        document.getElementById("load").style.display = "none";
      }
    </script>
  </head>
  <body>
    <div class="grid-container centered">
      <div class="grid-100">
        <div class="contained">
          <div class="grid-100">
            <h1>Bring on the AJAX</h1>
            <!-- we are using this button for the ajax -->
            <button id="load" onclick="sendAJAX()">Bring It!</button>
            <ul id="ajax"></ul>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
